import{as as N,d as E,a8 as I,af as O,aa as $,at as z,x as F,$ as n,r as R,o,h as u,i as e,p as s,V as t,f as S,F as w,j as C,S as r,A as i,q as h,ag as U,X as j,a3 as q}from"./index-BZUOWCTQ.js";import{_ as H}from"./Space-CUMox7Fx.js";import{_ as P,a as X}from"./DescriptionsItem-BM8MmuEo.js";function G(){const c=N();function f(l){return c.isLogin?typeof l=="string"?c.userInfo.buttons.includes(l):l.some(d=>c.userInfo.buttons.includes(d)):!1}return{hasAuth:f}}const Y=E({name:"function_toggle-auth",__name:"index",setup(c){const f=I(),l=O(),d=N(),B=$(),{hasAuth:m}=G(),{loading:k,startLoading:L,endLoading:V}=z(),v=F(()=>[{key:"super",label:n("page.login.pwdLogin.superAdmin"),account:"Super",password:"123456"},{key:"admin",label:n("page.login.pwdLogin.admin"),account:"Admin",password:"123456"},{key:"user",label:n("page.login.pwdLogin.user"),account:"User",password:"123456"}]),b=R("super");async function x(p){b.value=p.key,L(),await d.login(p.account,p.password,!1),B.initTabStore(f),V(),l.reloadPage()}return(p,J)=>{const D=U,_=H,A=P,g=j,T=X,y=q;return o(),u(_,{vertical:"",size:16},{default:e(()=>[s(y,{title:t(n)("route.function_toggle-auth"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(T,{bordered:"",column:1},{default:e(()=>[s(A,{label:t(n)("page.manage.user.userRole")},{default:e(()=>[s(_,null,{default:e(()=>[(o(!0),S(w,null,C(t(d).userInfo.roles,a=>(o(),u(D,{key:a},{default:e(()=>[r(i(a),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["label"]),s(A,{"ions-item":"",label:t(n)("page.function.toggleAuth.toggleAccount")},{default:e(()=>[s(_,null,{default:e(()=>[(o(!0),S(w,null,C(v.value,a=>(o(),u(g,{key:a.key,loading:t(k)&&b.value===a.key,disabled:t(k)&&b.value!==a.key,onClick:K=>x(a)},{default:e(()=>[r(i(a.label),1)]),_:2},1032,["loading","disabled","onClick"]))),128))]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["title"]),s(y,{title:t(n)("page.function.toggleAuth.authHook"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(_,null,{default:e(()=>[t(m)("B_CODE1")?(o(),u(g,{key:0},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.superAdminVisible")),1)]),_:1})):h("",!0),t(m)("B_CODE2")?(o(),u(g,{key:1},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.adminVisible")),1)]),_:1})):h("",!0),t(m)("B_CODE3")?(o(),u(g,{key:2},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.adminOrUserVisible")),1)]),_:1})):h("",!0)]),_:1})]),_:1},8,["title"])]),_:1})}}});export{Y as default};
