import{C as v,d as k,b as F,x as V,r as w,c as x,o as t,f as n,F as d,j as p,g,A as y,n as u,h as C,i as U,m as B}from"./index-BZUOWCTQ.js";const N=k({name:"FsFilesFormat",props:{modelValue:{},color:{default:""},type:{default:"tag"},a:{},tag:{},buildUrl:{},buildUrls:{},getFileName:{}},setup(a,h){const{ui:i}=F(),f=V(()=>a.getFileName||function(e){return typeof e!="string"?(console.warn("获取文件名失败，请配置getFileName"),e):(e==null?void 0:e.lastIndexOf("/"))>=0?e.substring(e.lastIndexOf("/")+1):e});function o(e){return{url:void 0,value:e,name:f.value(e),color:a.color}}async function m(e){if(a.buildUrls){const l=e.map(s=>s.value),b=await a.buildUrls(l);for(let s=0;s<e.length;s++)e[s].url=b[s]}else if(a.buildUrl)for(let l of e)l.url=await a.buildUrl(l.value);else for(let l=0;l<e.length;l++)e[l].url=e[l].value}async function r(){if(a.modelValue==null||a.modelValue==="")return[];let e=[];if(typeof a.modelValue=="string")e=[o(a.modelValue)];else if(a.modelValue instanceof Array){e=[];for(const l of a.modelValue)e.push(o(l))}return await m(e),e}const c=w([]);return x(()=>a.modelValue,async()=>{c.value=await r()},{immediate:!0}),{ui:i,itemsRef:c}}}),R={class:"fs-files-format"},O=["href"],_=["href"];function A(a,h,i,f,o,m){return t(),n("div",R,[a.type==="text"?(t(!0),n(d,{key:0},p(a.itemsRef,r=>(t(),n("span",{key:r.url,class:"fs-files-item"},[g("a",u({href:r.url,target:"_blank"},a.a),y(r.name),17,O)]))),128)):(t(!0),n(d,{key:1},p(a.itemsRef,r=>(t(),C(B(a.ui.tag.name),u({key:r.url,class:"fs-tag-item",type:r.color},a.tag),{default:U(()=>[g("a",u({href:r.url,target:"_blank"},a.a),y(r.name),17,_)]),_:2},1040,["type"]))),128))])}const I=v(N,[["render",A]]);export{I as default};
